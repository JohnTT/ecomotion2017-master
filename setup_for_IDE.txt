I've had some problems with the math.h library,

I went into the project Properties -> C/C++Build -> Settings -> MCU GCC Linker -> Libraries:
In Libraries (-l) I added:

c
m

In that order, and unclicked the textbox 'Use C math Library (lm)'
